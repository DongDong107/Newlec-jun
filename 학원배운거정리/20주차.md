# 학원 20주차 정리 (04.10 ~ 14)

## 04.10 월요일

1. 인증과 권한

- 로그인 하고 와!
- 너 권한 있어?
- 403 : 보안 에러

- 스프링에서 인증과 권한 기능이 있는 라이브러리 제공 중.

- 세션/쿠키를 이용해서 사용자가 인증되었던 적이 있는지를 확인함.

- 서버는 클라이언트를 식별해야 하는데 무엇으로 식별할까.
- 세션 id : 단순한 id가 아니라 서버 자원을 쓸 수 있게 해주는 식별 키가 되어준다.

- 레퍼런스를 보고 공부를 해야하고, ai를 도구로써 잘 이용해야한다.

- 탈퇴해도 사용자 이름 식별자를 남기기 위해서, id를 따로 남겨둔다.

## 04.11 화요일

1. get 요청만이 페이지를 반환하고 post 요청은 페이지를 반환하면 안됨.

2. 리눅스에

- 가상??????
- 뉴렉처는 가상에서 돌아가고 있음.
- 하이퍼V
- 미니 컴퓨터
- 에저

3. 로그인 중이라는 상태값을 어디에 저장해둘까.

- 쿠키 or 세션.
- 일반적으로 세션이 기본.

- 세션에 정말 많은 정보들이 담기게 된다면 서버 과부하가 생기므로 db에서 계속해서 꺼내올지
  아니면 서버를 키울지 고민해야 한다.

4. 원래는 returnURL을 매 관리자 페이지마다 다 썼어야 했는데 미친 짓이다... -> 스프링 필터

5. 필터

- 클라이언트와 서블릿 사이에서 request와 response 도
- 원래 서블릿 기능

- filter chain

6. 스프링 필터

- 스프링 3(약 2017~18) 까지는 xml 로 그 이후는 java로
- xml 많

- role 과 authoroty 의 차이.
  - authoroty 에서는 ROLE\_ 를 꼭 붙여줘야 하는 것이 있었나보다. 그래서 버전 업하면서 나누면서
    role 에선 자동으로 붙여주나보다.

7. 빌더 시스템이 자바에서도 다른데서도 많이 보이기 시작함. functional program이 등장.

- Stream APi
- interface
- functional program
- jpa

## 04월 12일 수요일

1. url에 매칭되는 녀서이 있으면 인증을 요구하게 될 거다.

2. 예외

- 입력 예외
- 스프링이 오류에 대한 예외도 처리해준다.

3. 도메인 컨트롤러 ( 윈도우 액티브 서버) 를 사용하는 경우도 있다.

- 같은 도메인 안에서

4. 사용자 데이터 서비스

   1. 인메모리 서비스
   2. JDBC 서비스
   3. LDAP 서비스 (윈도우 서비스 액티브 디렉토리)

5. 요즘 build()를 굉장히 많이 쓴다.

- ```java
  Member member = Member.builder().id(1L).userName("newlec").build();
  ```

6. builder가 setter는 아니다.

- 생성자의 argument
- @AllArgsConstrucotr 해야 builder 가능.
- 생성자 오버로드로

7. 짐을 뽑아내는, 식별키만 뽑아내도록 하는 암호화

- 회원의 정보를 저장하면 법에 걸림.

8. password("(nope)")

9. 사용자의 개인정보가 어떤 것인지는 상관없이 몰라도 되고, 암호화 인코딩된 정보가 똑같으면 맞다고 판단.

10. 403 에러!!!!! 잘 알아두기 뜨는 이유

- CORS 공격을 피할 수 있는 설정이 되어 있느냐
- 히든 컬럼으로 식별자를 심어둠 문서 요청할 때
- csrf(cross site requset.. )

- login filter를 사용하면서 우리가 만든 로그인이 쓸모가 없어져버렸다...
- 내가 원하는 url

11. 단순하게 user정보를 등록할 때 role만 등록하는 것 만으로도 간단하게 구별이 가능하다.

12. 별개로 filter 부분에서 알아봐야 할 키워드

- filter
- filterChain / chain
- passwordEncoder
  - BcryptPasswordEncoder
- UserDetailService
- loginPage / loginProcessingUrl
- 인메모리 서비스(new InMemoryUserDetailsManager), JDBC 서비스, LDAP 서비스
